<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&family=Lato:wght@400;700&family=Fira+Code&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/static/style/main.css">
    <meta charset="UTF-8">
    <title>Chapter 13: Selection & Filtering in Pandas</title>
</head>
<body>

{% include 'components/header.html' %}


<div class="container">
      <h1>Chapter 13: Selection & Filtering in Pandas</h1>
    </div>


<main class="chapter-content container">



  <div class="note">
    <p><strong>üß† Concept:</strong> Selection and filtering are essential for narrowing down data to relevant rows or columns based on labels, conditions, or indices.</p>
  </div>

  <div class="note">
    <ul>
      <li><strong>Selection by Column:</strong> <code>df['column']</code>, <code>df[['col1', 'col2']]</code></li>
      <li><strong>Row Selection with loc:</strong> <code>df.loc[row_label]</code> or <code>df.loc[start:stop, columns]</code></li>
      <li><strong>Row Selection with iloc:</strong> <code>df.iloc[row_index]</code> or <code>df.iloc[rows, cols]</code></li>
      <li><strong>Filtering by Condition:</strong> <code>df[df['col'] > value]</code>, multiple conditions with <code>&</code>, <code>|</code></li>
      <li><strong>Boolean Masking:</strong> Creating filters based on expressions</li>
    </ul>
  </div>

  <div class="code">
    <h2>üß™ Code Exercises</h2>
    <pre><code>
import pandas as pd

# Sample Data
data = {
  'Name': ['Alice', 'Bob', 'Charlie', 'David'],
  'Age': [25, 30, 35, 40],
  'Score': [85, 90, 88, 70],
  'Passed': [True, True, True, False]
}
df = pd.DataFrame(data)

# 1. Select single column
print(df['Name'])

# 2. Select multiple columns
print(df[['Name', 'Score']])

# 3. Select rows by label using loc
print(df.loc[1])  # Row with label 1

# 4. Select multiple rows and columns
print(df.loc[1:3, ['Name', 'Passed']])

# 5. Select rows by position using iloc
print(df.iloc[0])  # First row

# 6. Select a range of rows and columns
print(df.iloc[0:2, 1:3])

# 7. Filter rows where Score > 85
print(df[df['Score'] > 85])

# 8. Combine multiple conditions
print(df[(df['Age'] > 30) & (df['Passed'])])

# 9. Use isin() for filtering
print(df[df['Name'].isin(['Alice', 'David'])])

# 10. Use str.contains() for string filtering
print(df[df['Name'].str.contains('a', case=False)])

# 11. Get all rows where Age is between 30 and 40
print(df[df['Age'].between(30, 40)])

# 12. Invert a filter with ~
print(df[~df['Passed']])

# 13. Conditional assignment
df.loc[df['Score'] < 80, 'Result'] = 'Fail'

# 14. Query method
print(df.query("Score > 85 and Passed == True"))

# 15. Sort then filter
print(df.sort_values('Score', ascending=False).head(2))
    </code></pre>
  </div>

  <div class="challenge">
    <h2>üí° Challenges</h2>
    <ul>
      <li><strong>Easy:</strong> Select rows where age is greater than 30.</li>
      <li><strong>Medium:</strong> From a DataFrame, select students who scored more than 80 and passed the exam.</li>
      <li><strong>Hard:</strong> Find all employees whose name starts with ‚ÄúA‚Äù or ends with ‚Äún‚Äù and who are younger than 40.</li>
    </ul>
  </div>


  <div class="test">
    <h2>üß≠ Mini Project: Filter Sales Records</h2>
    <p><strong>Objective:</strong> You are given a sales record DataFrame. Filter out top-selling regions and products, and summarize the results.</p>
    <ol>
      <li>Load a DataFrame with columns: Region, Product, Sales, Units.</li>
      <li>Select only rows where Sales &gt; 10,000 and Units &gt; 100.</li>
      <li>Filter for Product = "Laptop" or "Tablet".</li>
      <li>Select only "North" and "East" regions.</li>
      <li>Return only Region, Product, and Sales columns.</li>
    </ol>

    <pre><code>
import pandas as pd

# Sample sales data
data = {
    'Region': ['North', 'East', 'South', 'North', 'East'],
    'Product': ['Laptop', 'Tablet', 'Phone', 'Tablet', 'Laptop'],
    'Sales': [15000, 12000, 8000, 9500, 16000],
    'Units': [120, 130, 80, 110, 140]
}
df = pd.DataFrame(data)

# Step 1: Filter based on Sales and Units
filtered = df[(df['Sales'] > 10000) & (df['Units'] > 100)]

# Step 2: Product filter
filtered = filtered[filtered['Product'].isin(['Laptop', 'Tablet'])]

# Step 3: Region filter
filtered = filtered[filtered['Region'].isin(['North', 'East'])]

# Step 4: Select final columns
result = filtered[['Region', 'Product', 'Sales']]
print(result)
    </code></pre>
  </div>

</main>

<footer class="site-footer">
  <p>¬© 2025 Hi-Py. All rights reserved.</p>
</footer>

</body>
</html>